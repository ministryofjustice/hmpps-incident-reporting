{% from "govuk/components/notification-banner/macro.njk" import govukNotificationBanner %}

{% if banners %}
  {% for bannerType, banners in banners %}
    {% for banner in banners %}
      {% set html %}
        {% if banner.title %}
          <p class="govuk-notification-banner__heading">
            {{ banner.title }}
          </p>
        {% endif %}
        {% if banner.content %}
          <p class="govuk-body">
            {{ banner.content }}
          </p>
        {% endif %}
      {% endset %}

      {% if bannerType == "error" %}
        {% set titleText = "Error" %}
      {% elif bannerType == "important" %}
        {% set titleText = "Important" %}
      {% else %}
        {% set titleText = undefined %}
      {% endif %}

      {% if bannerType == "success" %}
        {% set type = "success" %}
      {% elif bannerType == "important" %}
        {% set type = "important" %}
      {% else %}
        {% set type = null %}
      {% endif %}

      {{ govukNotificationBanner({
        titleText: titleText,
        html: html,
        type: "success" if bannerType == "success" else null,
        classes: "govuk-notification-banner--error" if bannerType == "error" else ""
      }) }}
    {% endfor %}
  {% endfor %}
{% endif %}
